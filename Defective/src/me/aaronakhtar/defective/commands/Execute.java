package me.aaronakhtar.defective.commands;

import me.aaronakhtar.defective.Defective;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;

public class Execute {
    /**
     * executes command on system using runtime.
     *
     * @param command the command to be executed on the system.
     *
     * @return output of command execution.
     * */
    public static String exec(String command) {
        try {
            Process process = Runtime.getRuntime().exec(command);
            StringBuilder builder = new StringBuilder();
            BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));
            String returned = null;
            while((returned = reader.readLine()) != null){
                builder.append(returned + "\n");
            }
            return builder.toString();
        }catch (IOException e){
            if (Defective.underDevelopment){
                e.printStackTrace();
            }
            return "Internal Error....";
        }
    }

}
